(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{362:function(t,e,a){"use strict";a.r(e);var n=a(42),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"config-v2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-v2"}},[t._v("#")]),t._v(" Config V2")]),t._v(" "),a("p",[t._v("This document contains the configuration manifest for the newer, app-based presets.")]),t._v(" "),a("h2",{attrs:{id:"apps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apps"}},[t._v("#")]),t._v(" apps")]),t._v(" "),a("p",[t._v('Since builder version 2.0.0, the configuration is no longer split into multiple nodes, because we follow webpack\'s approach to import all sources in a single "app" source file.')]),t._v(" "),a("p",[t._v("For this reason, you create an app with an entry point and specify it's output directory/file name.")]),t._v(" "),a("p",[t._v("You can also set an optional display name of each app for the output")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      "entry": "./src/app.js",\n      "output": "./dist/bundle.js",\n      "displayname": "Your App name here"\n    }\n  ],\n}\n')])])]),a("p",[t._v("There are also some additional configuration options you might want to use,\nthose can be specified for each app.")]),t._v(" "),a("h3",{attrs:{id:"app-disabled"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-disabled"}},[t._v("#")]),t._v(" app.disabled")]),t._v(" "),a("p",[t._v("If this is set to true, the app will not be built. This is useful if you want to\ntemporarily disable an app from being build without removing the definition from the package.json")]),t._v(" "),a("h3",{attrs:{id:"app-verboseresult"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-verboseresult"}},[t._v("#")]),t._v(" app.verboseResult")]),t._v(" "),a("p",[t._v("If this option is set to true, the webpack result will not hide child files it emitted\nbut print everything to the screen. -> This can lead to quite long outputs!")]),t._v(" "),a("h3",{attrs:{id:"app-appname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-appname"}},[t._v("#")]),t._v(" app.appName")]),t._v(" "),a("p",[t._v('This can be used to define a visible name for your application, which makes it easier to identify in console outputs.\nThe name is also given to webpack as "appName".')]),t._v(" "),a("h3",{attrs:{id:"app-publicpath-app-publicpathdev"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-publicpath-app-publicpathdev"}},[t._v("#")]),t._v(" app.publicPath & app.publicPathDev")]),t._v(" "),a("p",[t._v('To make sure your paths can be resolved properly on your webserver you may use "publicPath" to define the URL/directory, which leads to the output files.')]),t._v(" "),a("p",[t._v('If your path on your local machine is different from your productive "publicPath" use "publicPathDev", too (publicPath is used for "build",\n"publicPathDev" is preferred when using "watch").')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "publicPath": "dist/",\n      "publicPathDev": "web/frontend/",\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-polyfills"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-polyfills"}},[t._v("#")]),t._v(" app.polyfills")]),t._v(" "),a("p",[t._v("As stated in the section "),a("strong",[t._v("Typescript, ES6, and Polyfills")]),t._v(", you\nmay also define polyfills that should be provided for your application. Those will be added to the default polyfills which are always provided.")]),t._v(" "),a("p",[t._v("You may set this option to FALSE to disable all polyfills")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "polyfills": ["core-js/fn/array/fill"]\n    }\n  ]\n}\n')])])]),a("h3",{attrs:{id:"app-usetypechecker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-usetypechecker"}},[t._v("#")]),t._v(" app.useTypeChecker")]),t._v(" "),a("p",[t._v('By default, we use ts-loader\'s "transpileOnly" option\nto save a lot of time while compiling your scripts. If you want to use\nthe typescript-type checker, set this option to true.')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "useTypeChecker": true\n    }\n  ]\n}\n')])])]),a("h3",{attrs:{id:"app-minchunksize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-minchunksize"}},[t._v("#")]),t._v(" app.minChunkSize")]),t._v(" "),a("p",[t._v("When you are using webpack's "),a("a",{attrs:{href:"https://webpack.js.org/guides/code-splitting/",target:"_blank",rel:"noopener noreferrer"}},[t._v("dynamic imports"),a("OutboundLink")],1),t._v('\nwebpack will create multiple "chunks", some of them might be tiny and create more HTTP overhead/slowdown than they save. To counteract that issue, we set the minimum chunk size to 10kb.\nEverything else will be bundled in the main output file.')]),t._v(" "),a("p",[t._v("But maybe that's not enough, or too much? Set this value to any number of bytes you want to use as a limit for resource chunk splitting. Setting this value to 0 will disable this feature and we use webpack's default chunk building.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "minChunkSize": 10000\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-imagecompression"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-imagecompression"}},[t._v("#")]),t._v(" app.imageCompression")]),t._v(" "),a("p",[t._v('All assets (jpg, png, SVG...) that are imported in your sources (including your stylesheets) will automatically be compressed\nwhen you run the "build" command. If you don\'t want to use this behavior. You can simply disable it by setting this option to false.')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "imageCompression": false\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-imagecompressionquality"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-imagecompressionquality"}},[t._v("#")]),t._v(" app.imageCompressionQuality")]),t._v(" "),a("p",[t._v('As stated in the option above: All assets are automatically compressed when using "build". By default, we use a quality of 80 (Range: 0 - 100).\nIf you want to change that, just pass a number in the range, and you are ready to go.')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "imageCompressionQuality": 95\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-keepoutputdirectory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-keepoutputdirectory"}},[t._v("#")]),t._v(" app.keepOutputDirectory")]),t._v(" "),a("p",[t._v("We are automatically clearing the output directory of an app before we start to emit the new files (Only once while watching!).\nIf you don't want your output directory to be flushed, set this option to true.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "keepOutputDirectory": true\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-disablegitadd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-disablegitadd"}},[t._v("#")]),t._v(" app.disableGitAdd")]),t._v(" "),a("p",[t._v('By default, your files in the output-directory will automatically be added to your git when you execute the "build" command.\nThis is done for your convenience and to prevent errors. If you don\'t want to add all emitted files automatically, set this to true')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "disableGitAdd": true\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-htmltemplate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-htmltemplate"}},[t._v("#")]),t._v(" app.htmlTemplate")]),t._v(" "),a("p",[t._v('When you start to create real single-page apps, you will sooner or later come to a point where you want webpack to create your entry HTML file, which automatically includes the built assets.\nWe provide such an option, just set your app.htmlTemplate to TRUE and an index.html containing a\ndiv with id "app" will be created for you using '),a("a",{attrs:{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Html Webpack Plugin"),a("OutboundLink")],1),t._v(".\nIf you want to go further, you can also supply all configuration options for the plugin by passing an object instead of merely true.\nWhile you are on an intermediate level, we also provide you with "),a("a",{attrs:{href:"https://www.npmjs.com/package/html-webpack-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("Html Webpack Template"),a("OutboundLink")],1),t._v("\nwhich adds some additional markers of data that may be injected.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "htmlTemplate": true // <-- Simple default template using a "app" mount point\n      [//]\n      "htmlTemplate": {\n       "template": "./your/template.html,\n       "title": "My fancy page"\n      }\n    }\n  ],\n}\n')])])]),a("h3",{attrs:{id:"app-webpackconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-webpackconfig"}},[t._v("#")]),t._v(" app.webpackConfig")]),t._v(" "),a("p",[t._v("There might be a time where our preconfigured webpack is not enough for your needs, in that case, you can always alter the webpack configuration using this option.")]),t._v(" "),a("p",[t._v("Because the webpack config is mostly a js object we need to extend it using\njavascript as well. To do so, lets create a new file called webpack.config.js in your\nproject root:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" merge "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack-merge'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webpackConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webpackConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Additional configuration for webpack...")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("To tell the config builder to use your configuration file, add the script\nwith a path relative to your package.json to your app configuration. Or, if you\nfollow the convention by calling the file webpack.config.js, you can just set the parameter to true.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "webpackConfig": TRUE\n   }\n  ]\n}\n')])])]),a("p",[t._v("But in some instances, we only need to set or overwrite some webpack config settings. In this case, we can write these additional settings as an object.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "webpackConfig": {\n        "target": "node",\n        "output": {\n          "libraryTarget": "umd"\n        }\n      }\n   }\n  ]\n}\n')])])]),a("h3",{attrs:{id:"app-warningsignorepattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-warningsignorepattern"}},[t._v("#")]),t._v(" app.warningsIgnorePattern")]),t._v(" "),a("p",[t._v("You now have the option to suppress warnings during the build via the warningsIgnorePattern, which is a RegExp.\nThis is especially useful if you have specific warnings raising in a build, and you don´t want the asset-building to exit with code 1.")]),t._v(" "),a("p",[t._v("This can be either a string or an array of strings. If you set this using an extension script, you can also set it to an array of regex expressions!")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "warningsIgnorePattern": "Pattern to check against the warnings to ignore them as RegEXP"\n   }\n  ]\n}\n')])])]),a("h3",{attrs:{id:"app-copy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-copy"}},[t._v("#")]),t._v(" app.copy")]),t._v(" "),a("p",[t._v('There are a lot of use cases where you have to copy files from a destination to an output directory automatically. You can have multiple copy-jobs for a single project, so make sure that your "copy" node is an array of configuration objects.')]),t._v(" "),a("p",[t._v('This option is built on top of the "copy-webpack-plugin". Take a look at their\n'),a("a",{attrs:{href:"https://github.com/webpack-contrib/copy-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Documentation"),a("OutboundLink")],1),t._v(" for how to\nuse it in detail. In this example, we will only take a look at the defaults and the minor syntax change we made.")]),t._v(" "),a("p",[a("strong",[t._v("The change")]),t._v(': by default, you can only copy files from a single source into an output directory. I changed it so that "from" can also work with arrays of sources.\nApart from that everything is straight forward.')]),t._v(" "),a("p",[t._v('Say what (from) is copied, where (to), and you should be good to go.\nIf you want to exclude some files, you can always use "ignore" for that.\nKeep in mind that both "from" and "ignore" support glob values.\nIf you don\'t want to flatten everything into a directory set "flatten: false"\nand you are set.\nSometimes you have copy-tasks, which should be executed if it´s a build and not in a watch.\nSet "inBuildOnly: true" in such a case.')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      [...]\n      "copy": [\n          {\n              "from": [\n                  "assets/a/*",\n                  "./assets/b/**/b2.png",\n                  "./assets/**/asset.png"\n              ],\n              "to": "webroot/assets",\n              "ignore": ["*.jpg", "assets/a/c"],\n              "flatten": false,\n              "inBuildOnly": false\n          }\n      ]\n    }\n  ]\n}\n')])])]),a("h3",{attrs:{id:"app-extensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#app-extensions"}},[t._v("#")]),t._v(" app.extensions")]),t._v(" "),a("p",[t._v('In addition to "global" extension (see '),a("RouterLink",{attrs:{to:"/guide/ConfigGeneral.html"}},[t._v("Config")]),t._v(" and "),a("RouterLink",{attrs:{to:"/guide/Extensions.html"}},[t._v("Extensions")]),t._v(") you can also register\nextensions that are only active for a specific app and therefore a single webpack process.")],1),t._v(" "),a("p",[t._v("For more information take look at "),a("RouterLink",{attrs:{to:"/guide/Extensions.html"}},[t._v("Extensions")]),t._v(".")],1),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"labor": {\n  "apps": [\n    {\n      "extensions": [\n          "./extensions/MyDemoExtension.js",\n          "@labor-digital/your-packge/asset-building"\n      ]\n    }\n  ]\n}\n')])])])])}),[],!1,null,null,null);e.default=s.exports}}]);